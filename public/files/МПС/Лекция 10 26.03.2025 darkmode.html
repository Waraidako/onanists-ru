<!DOCTYPE html>
<head>
<meta charset="utf-8"></meta>
    <style>
        @font-face {
            font-family: math-font;
            src: url(https://fred-wang.github.io/MathFonts/TeXGyreSchola/texgyreschola-math.woff2);
        }
        math {
            font-family: math-font;
        }
        body{
            font-family:Calibri;
            max-width: 50em;
            margin: auto;
            padding: 10px;
            background-color: #1c1c1c;
            color: white;
        }
        table{
            margin: 1em 0 1em 0;
        }
        table,tr,th,td{
            border: 1px solid #474747;
            border-collapse: collapse;
            text-align: left;
            vertical-align: top;
        }
        img{
            max-width: 100%;
        }
        a {
            color: #287cff
        }
    </style>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head><h4 id="lvds">LVDS</h4>
<p>LVDS - Low Voltage Differential Signal<br />
<img
src="%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250326103744%20darkmode.png"
alt="Pasted image 20250326103744%20darkmode.png" /><br />
// Ыхыхыхыхых писька ыхыхыхыхыых<br />
<strong>Передающая сторона (Driver)</strong></p>
<ul>
<li>Источник постоянного тока -&gt; к двум выходым линиям черещ
MOSFET-транзисторы</li>
<li>Сигнал - разность напряжений между линиями
<ul>
<li>Логический 1 - +350 мВ на линии А, -350 мВ на линии В</li>
<li>Логический 0 - -350 мВ на линии А, +350 мВ на линии В</li>
</ul></li>
</ul>
<p><strong>Принимающая сторона (Receiver)</strong></p>
<ul>
<li>Диф. усилитель сравнивает напряжения на линиях TX+ &amp; TX-</li>
<li>Нагрузочный рещистор (100 Ом) между линиями завершает диф. пару</li>
</ul>
<p><strong>Ключевые параметры</strong></p>
<ul>
<li>Размах каждого сигнала +-350 мВ</li>
<li>Скорость передачи - до 3.125 Гбит/с на одну пару</li>
</ul>
<p><strong>Преимущества диф. передачи</strong></p>
<ul>
<li>Низкое энергопотребление - ток через нагрузку всего 3.5 мА -&gt;
Мощность около 11.5 мВт</li>
<li>Высокая скорость - малая амплитуда сигнала позволяет быстрее
перключать состояния</li>
<li>Снижение EMI (электромагнитных помех) - противоположные токи в диф.
линиях компенсируют магнитные поля</li>
</ul>
<p><strong>Примеры применения LVDS</strong>:</p>
<ul>
<li>PCIe (до 5 поколения)
<ul>
<li>Линии - 1-16 пар в зависимости от версии</li>
<li>Скорость
<ul>
<li>Gen 4 - 16 ГТ/с на линию (ГТ - Гига Трансферы, полезные переносы
информации)</li>
<li>Gen 5 - 32 ГТ/с на линию</li>
<li>Gen 7 - 128 ГТ/с на линию (но там уже не LVDS лол)</li>
</ul></li>
</ul></li>
<li>SATA (Serial ATA)
<ul>
<li>2 пары линий (приём-передача)</li>
<li>Скорость - SATA III - 6Гбит/с</li>
</ul></li>
<li>HDMI
<ul>
<li>Линии - 3 пары видео, 1 пара тактирования</li>
<li>Скорость - HDMI 2.1 - до 48 Гбит/с (с использованием LVDS-like
технологии TMDS)</li>
</ul></li>
<li>Мобильные дисплеи (eDP)
<ul>
<li>1-4 пар линий</li>
<li>Скорость до 8.1 Гбит/с на пару</li>
</ul></li>
</ul>
<p><strong>Сравнение LVDS с другими стандартами диф.
передачи</strong></p>
<table>
<thead>
<tr class="header">
<th>Параметр</th>
<th>LVDS</th>
<th>RS-422</th>
<th>CML</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Напряжение питания</td>
<td>3.3 В</td>
<td>5 В</td>
<td>2.5-3.3 В</td>
</tr>
<tr class="even">
<td>Скорость</td>
<td>до 3.125 Гбит/с</td>
<td>До 10 Мбит/с</td>
<td>До 10 Гбит/с</td>
</tr>
<tr class="odd">
<td>Потребление</td>
<td>Низкое</td>
<td>Среднее</td>
<td>Высокое</td>
</tr>
<tr class="even">
<td>Применение</td>
<td>Дисплеи, PCIE</td>
<td>Промышленность</td>
<td>Сети, SerDes</td>
</tr>
</tbody>
</table>
<h2 id="согласование-уровней">Согласование уровней</h2>
<h4 id="ttl-cmos-lvcmos-lvds---как-их-связать-то-блять">TTL, CMOS,
LVCMOS, LVDS - как их связать то блять?</h4>
<p>Согласование логических стандартов - важная задача при проектировании
систем, где используются компоненты с разными уровнями напряжения и
требованиями к сигналам<br />
<img
src="%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250326110427%20darkmode.png"
alt="Pasted image 20250326110427%20darkmode.png" /><br />
^ диаграмма, кто какие напряжения принимает за нули-единицы<br />
<img
src="%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250326110620%20darkmode.png"
alt="Pasted image 20250326110620%20darkmode.png" /><br />
^ Таблица совместимостей сигналов</p>
<h4 id="универсальные-методы-согласования-уровней">Универсальные методы
согласования уровней</h4>
<ul>
<li>Резисторные делители - подходят для согласования уровней напряжения,
но не высокоскоростных сигналов, односторонние</li>
<li>Буферные специализированные микросхема - преобразователи уровня по
типу TXB0108, SN74LVC1T45</li>
<li>Опторазвязка - для гальванический изоляции и согласования
уровней</li>
<li>MOSFET-ключи - простые дешёвые решения для согласования
уровней<br />
Ссылки на схемы согласования лог. уровней<br />
<a
href="https://microchip.my.site.com/s/article/Level-Shifting-Methods">https://microchip.my.site.com/s/article/Level-Shifting-Methods</a><br />
<a
href="https://analogcircuitdesign.com/level-shifter-circuit/">https://analogcircuitdesign.com/level-shifter-circuit/</a><br />
<a
href="https://we.easyelectronics.ru/Shematech/soglasovanie-logicheskih-urovney-5v-i-33v-ustroystv.html">https://we.easyelectronics.ru/Shematech/soglasovanie-logicheskih-urovney-5v-i-33v-ustroystv.html</a></li>
</ul>
<h4 id="согласование-cmoslvcmos-и-lvds">Согласование CMOS/LVCMOS и
LVDS</h4>
<p><strong>Проблемы</strong>:</p>
<ul>
<li>CMOS - односторонний сигнал (однофзный, несимметричный, с общей
землёй, single-ended) - 0-5 В</li>
<li>LVCMOS - односторонний сигнал (0-1.8 В)</li>
<li>LVDS - дифференциальный сигнал (+-350 мВ)</li>
</ul>
<p><strong>Методы согласования</strong>:</p>
<ul>
<li>Преобразователь CMOS/LVCMOS -&gt; LVDS - микросхемы по типу
DS90LV011A</li>
<li>Преобразователь LVDS -&gt; CMOS/LVCMOS - микросхемы по типу
DS90LV012A</li>
</ul>
<h4 id="согласование-ttl-и-lvds">Согласование TTL и LVDS</h4>
<p><strong>Проблемы</strong>:</p>
<ul>
<li>TTL - односторонний сигнал (0-5 В)</li>
<li>LVDS - диф. сигнал (+-350 мВ)<br />
<strong>Методы согласования</strong>:</li>
<li>Преобразователь TTL -&gt; LVDS //революционно<br />
Используются микросхемы по типу SN65LVDS1</li>
<li>Преобразователь LVDS -&gt; TTL - микросхемы по типу SN65LVDS2</li>
</ul>
<h2 id="практические-вопросы">Практические вопросы</h2>
<h4 id="проблема-объединения-выходов-логических-схем-на-шину">Проблема
объединения выходов логических схем на шину</h4>
<ul>
<li>При объединении выходов push-pull нескольких логических элементов
все формируют активный уровень</li>
<li>Никто не может "освободить" шину</li>
<li>При формировании разных лог. уровней двумя элементами в один момент
времени - КЗ пизда туши свет и пожар в квартире</li>
</ul>
<p><img
src="%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250327121120%20darkmode.png"
alt="Pasted image 20250327121120%20darkmode.png" /><br />
"Выход с тремя состяниями"</p>
<ul>
<li>Логическая 1</li>
<li>Логический 0</li>
<li>Третье состояние (оно же tri-state, z-состояние, высокоимпедансное
состояние)<br />
Третье состяние - состояние, когда схема электрически отключена от шины
(высокий импеданс)<br />
<strong>Особенности третьего состояния выхода</strong>:</li>
<li>Не формирует ни 0 ни 1</li>
<li>Позволяет нескольким устройствам работать на одной шине не
конфликтуя</li>
<li>Активируется сигналом Output Enable (OE)</li>
<li>Пример - шина данных в МПС</li>
</ul>
<h4 id="выходы-gpio-мк">Выходы GPIO МК</h4>
<p><strong>TTL</strong></p>
<ul>
<li>С общим коллектором (open collector)</li>
<li>totem-pole</li>
</ul>
<p><strong>CMOS</strong></p>
<ul>
<li>С общим стоком (open drain)</li>
<li>push-pull</li>
</ul>
<h4 id="открытый-коллектор--открытый-сток">Открытый коллектор / Открытый
сток</h4>
<p>Физическая реализация выхода, а не отдельное состояние<br />
Принцип работы:</p>
<ul>
<li>Выход может только притягивать линию к земле (лог. 0) или переходить
в Z-состояние</li>
<li>Высокий уровент (лог. 1) формируется внешним подтягивающим
резистором<br />
Ключевая особенность - всегда два состояния - 0 и Z<br />
Примеры - шины
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mn>2</mn></msup><mi>C</mi></mrow><annotation encoding="application/x-tex">I^2C</annotation></semantics></math>,
1-Wire</li>
</ul>
