Есть 5 портов - 4 по 8 пинов и куколд на 3 пина
$P_x\quad(x={A, B, C, D, E})$
В каждом порте по 3 8-битных регистра:

* **DDRx** - Data Direction Register, определяет направление (вход/выход)
  Каждый бит определяет направление конкретного пина
  $DDRx.y\quad x=\{A...E\},y=\{0...7\}$ принимает значения 0/1
  0 - вход
  1 - выход
* **PORTx** - регистр управления состоянием линий порта, зависит от направления:
  * Вход:
    * $PORTx.y = 1\to$ вывод порта через внутренний подтягивающий резистор подключится к VCC
    * $PORTx.y = 0\to$ вывод порта переходит в ![Z.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%A1%D0%B5%D0%BC%D0%B8%D0%BD%D0%B0%D1%80%D1%8B/Z.png)-состояние
  * Выход:
    * $PORTx.y = 0 \to 0$
    * $PORTx.y = 1 \to 1$
* **PINx** - регистр для чтения линий порта, независимо от направления
  Ниже приколюха, которая тупо включает LED0 и всё)

````
.include "m8515def.inc"
.def reg_led = r20
.def temp = r19
.org $000
	rjmp INIT

INIT:
	ldi reg_led, 0xFE
	ser temp
	out DDRB, temp
	out PORTB, reg_led

LOOP:
	rjmp LOOP
````

Ещё ниже - ещё прикольнее)) Приколюха #2 поочерёдно включает светодиодики еее :3

````
.include "m8515def.inc"
.def reg_led = r20
.def temp = r19
.org $000
	rjmp INIT

INIT:
	ldi reg_led, 0xFE
	ser temp
	out DDRB, temp
	sec

LOOP:
	out PORTB, reg_led

	ldi r16, 100
	d1: dec r16
		brne d1
	
	rol reg_led
	rjmp LOOP
````

Дефолт частота МК AVR - ~4МГц
$F_{clock}=4MHz=4*10^6Hz$
$N-количество\ тактов$
$t=\dfrac{N}{F_{clock}}$
$N=ldi+5(dec+brne)-1=1+5(1+2)-1=15$ тактов (-1 ибо brne в конце не переходит) при одном цикле на 5 итераций
$t=\dfrac{15}{4*10^6}=3.75*10^{-6}с$
$N=3k$ при одном цикле
$N=(3+3k_1)k_2$ при двух вложенных циклах
$N=(3+(3+3k_1)k_2)k_3$ при трёх вложенных циклах
