#### Классификация микроконтроллеров (продолжение)

* **Периферия**
  * Цифровые порты в/в
  * Таймеры (счётчики, сторожевые)
  * Каналы обмена данными с внешними устройствами: UART, SPI, I2C, USB, CAN и тд
  * Аналоговые порты и устройства работы с аналоговыми сигналами: АЦП, ЦАП, аналоговый компаратор

#### Обобщённая схема 8-разрядного микропроцессора аккумуляторного типа

![Pasted image 20250219103241.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219103241.png)

#### Процесс выполнения команд

![Pasted image 20250219103948.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219103948.png)
Обощённый цикл выполнения команды (**командный цикл**)
Командный цикл включает 1 или больше **машинных циклов**:

* Выборка команды
* Чтение/запись в память/стек/внешнее устройство
* Обслуживание прерывания
  Пример: сложение операнда из ОЗУ и операнда из регистра за 3 машинных цикла с сохранением в ОЗУ

#### Обощённая схема машинного цикла

![Pasted image 20250219105032.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219105032.png)
Машинный цикл работает за некоторое количество **машинных тактов**:
T1 - вывод адреса на шиу адреса
T2 - проверка готовности адресуемого устройства
TW - такт ожидания
T3 - пересылка команды/данных

###### Командный цикл > Машинный цикл > Машинный такт

#### Структура МК ATmega8515

Архитектура Гарвардская, регистр-регистрованя
Память программ -  8кБ Flash
Память данных - 512 Б SRAM, 512 Б EEPROM
8-разрядные порты в/в (4 шт) + один 3-разрядный нахера-то
Таймеры-счётчики

![Схема работы AVR.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%A1%D0%B5%D0%BC%D0%B8%D0%BD%D0%B0%D1%80%D1%8B/%D0%A1%D1%85%D0%B5%D0%BC%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20AVR.png)

#### Память МК ATmega8515

![Pasted image 20250219110657.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219110657.png)

#### Процессорное ядро AVR

![Pasted image 20250219111454.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219111454.png)
![Pasted image 20250219111516.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219111516.png)
**X, Y, Z-регистры** - вариант использования регистров R26-31, работают по принципу AX, BX, CX в x86 архитектуре, т.е. подразделяются на H и L половинки
![Pasted image 20250219111614.png](%D0%9F%D0%B8%D0%BA%D1%87%D0%B8/%D0%9B%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/Pasted%20image%2020250219111614.png)
